<!DOCTYPE html>
<meta charset="utf-8">
<body>
<script>

// var illumap = (function illumap() {  // bad. the function declaration name shadows the global variable, meaning that internal functions can't access it
var illumap = (function () {

  var data = (function () {
    var hidden;
    return {
      init: function init() {
        return 'Inited. "hidden" is ' + hidden;
      },
      set: function set(a) {
        hidden = a;
        return 'set "hidden" to ' + hidden;
      },
      get: function get() {
        return '"hidden" is ' + hidden;
      }
    };
  }());

  var test = (function test() {
    return {
      init: function init() {
        debugger;
        illumap.data.set(8);
      }
    };
  }());


  return {
    data: data,
    test: test
  };
}());

</script>

</body>
</html>
